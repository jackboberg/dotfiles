#!/usr/bin/env bash

# script/setup: Set up system for the first time after cloning

set -euo pipefail
IFS=$'\n\t'

setup () {
    cd "$(dirname "$0")/.."
    script/bootstrap

    echo "==> script/setup…"
    setup_emacs
}

setup_emacs () {
    echo "==> Setting up Emacs…"
    ghq get plexus/chemacs
    ghq get hlissner/doom-emacs
    ghq get syl20bnr/spacemacs
    $SRC/github.com/plexus/chemacs/install.sh
}

if [[ "${#BASH_SOURCE[@]}" -eq 1 ]]; then
    setup "$@"
fi
